generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model chitiethd {
  maCTHD    String  @id @db.VarChar(20)
  maHD      String  @db.VarChar(20)
  maPhong   String? @db.VarChar(20)
  maDichVu  String? @db.VarChar(20)
  soLuong   Int?
  donGia    Decimal @db.Decimal(12, 2)
  thanhTien Decimal @db.Decimal(12, 2)
  hoadon    hoadon  @relation(fields: [maHD], references: [maHD], onDelete: NoAction, onUpdate: NoAction, map: "chitiethd_ibfk_1")
  phong     phong?  @relation(fields: [maPhong], references: [maPhong], onDelete: NoAction, onUpdate: NoAction, map: "chitiethd_ibfk_2")
  dichvu    dichvu? @relation(fields: [maDichVu], references: [maDV], onDelete: NoAction, onUpdate: NoAction, map: "chitiethd_ibfk_3")

  @@index([maDichVu], map: "maDichVu")
  @@index([maHD], map: "maHD")
  @@index([maPhong], map: "maPhong")
}

model datphong {
  maDatPhong     String           @id @db.VarChar(20)
  maKhachHang    String           @db.VarChar(20)
  maPhong        String           @db.VarChar(20)
  check_in       DateTime         @db.Date
  check_out      DateTime         @db.Date
  trangThai      String           @db.VarChar(255)
  tongTien       Decimal          @db.Decimal(12, 2)
  thoiGianDat    DateTime         @db.Timestamp(0)
  khachhang      khachhang        @relation(fields: [maKhachHang], references: [maKhachHang], onDelete: NoAction, onUpdate: NoAction, map: "datphong_ibfk_1")
  phong          phong            @relation(fields: [maPhong], references: [maPhong], onDelete: NoAction, onUpdate: NoAction, map: "datphong_ibfk_2")
  dichvudatphong dichvudatphong[]
  hoadon         hoadon[]

  @@index([maKhachHang], map: "maKhachHang")
  @@index([maPhong], map: "maPhong")
}

model dichvu {
  maDV           String           @id @db.VarChar(20)
  tenDV          String           @db.VarChar(50)
  moTaDV         String           @db.Text
  giaDV          Decimal          @db.Decimal(12, 2)
  anhDV          String           @db.VarChar(255)
  chitiethd      chitiethd[]
  dichvudatphong dichvudatphong[]
}

model dichvudatphong {
  ma              String   @id @db.VarChar(20)
  maDatPhong      String   @db.VarChar(20)
  maDichVu        String   @db.VarChar(20)
  tenDichVuLucDat String   @db.VarChar(50)
  donGiaLucDat    Decimal  @db.Decimal(12, 2)
  soLuong         Int
  ThanhTien       Decimal  @db.Decimal(12, 2)
  datphong        datphong @relation(fields: [maDatPhong], references: [maDatPhong], onDelete: NoAction, onUpdate: NoAction, map: "dichvudatphong_ibfk_1")
  dichvu          dichvu   @relation(fields: [maDichVu], references: [maDV], onDelete: NoAction, onUpdate: NoAction, map: "dichvudatphong_ibfk_2")

  @@index([maDatPhong], map: "maDatPhong")
  @@index([maDichVu], map: "maDichVu")
}

model hoadon {
  maHD                String      @id @db.VarChar(20)
  phuongThucThanhToan String      @db.VarChar(20)
  trangThaiHD         String      @db.VarChar(20)
  tongTien            Decimal     @db.Decimal(12, 2)
  maDatPhong          String      @db.VarChar(20)
  chitiethd           chitiethd[]
  datphong            datphong    @relation(fields: [maDatPhong], references: [maDatPhong], onDelete: NoAction, onUpdate: NoAction, map: "hoadon_ibfk_1")

  @@index([maDatPhong], map: "maDatPhong")
}

model khachhang {
  maKhachHang   String        @id @db.VarChar(20)
  maUser        String        @db.VarChar(50)
  tenKhachHang  String        @db.VarChar(50)
  ngaySinh      DateTime      @db.Date
  gioiTinh      String        @db.VarChar(10)
  diaChi        String        @db.VarChar(100)
  soDienThoai   String        @db.VarChar(15)
  datphong      datphong[]
  roleadminuser roleadminuser @relation(fields: [maUser], references: [email], onDelete: NoAction, onUpdate: NoAction, map: "khachhang_ibfk_1")

  @@index([maUser], map: "maUser")
}

model lichlamviec {
  malichLamViec String   @id @db.VarChar(20)
  maNhanVien    String   @db.VarChar(20)
  maPhong       String   @db.VarChar(20)
  ngayLam       DateTime @db.Date
  caLam         String   @db.VarChar(10)
  loaiCV        String   @db.VarChar(20)
  trangThaiCV   String   @db.VarChar(20)
  nhanvien      nhanvien @relation(fields: [maNhanVien], references: [maNhanVien], onDelete: NoAction, onUpdate: NoAction, map: "lichlamviec_ibfk_1")
  phong         phong    @relation(fields: [maPhong], references: [maPhong], onDelete: NoAction, onUpdate: NoAction, map: "lichlamviec_ibfk_2")

  @@index([maNhanVien], map: "maNhanVien")
  @@index([maPhong], map: "maPhong")
}

model loaiphong {
  maLoaiPhong  String  @id @db.VarChar(20)
  tenLoaiPhong String  @db.VarChar(50)
  moTa         String  @db.Text
  hinhAnh      String  @db.VarChar(255)
  phong        phong[]
}

model nhanvien {
  maNhanVien       String        @id @db.VarChar(20)
  maUser           String        @db.VarChar(50)
  tenNhanVien      String        @db.VarChar(50)
  soDienThoai      String        @db.VarChar(15)
  trangThaiLamViec String        @db.VarChar(10)
  ngayVaoLam       DateTime      @db.Date
  viTri            String        @db.VarChar(50)
  lichlamviec      lichlamviec[]
  roleadminuser    roleadminuser @relation(fields: [maUser], references: [email], onDelete: NoAction, onUpdate: NoAction, map: "nhanvien_ibfk_1")

  @@index([maUser], map: "maUser")
}

model phong {
  maPhong     String        @id @db.VarChar(20)
  maLoaiPhong String        @db.VarChar(20)
  moTa        String        @db.Text
  tinhTrang   String        @db.VarChar(20)
  gia         Decimal       @db.Decimal(12, 2)
  hinhAnh     String        @db.VarChar(255)
  chitiethd   chitiethd[]
  datphong    datphong[]
  lichlamviec lichlamviec[]
  loaiphong   loaiphong     @relation(fields: [maLoaiPhong], references: [maLoaiPhong], onDelete: NoAction, onUpdate: NoAction, map: "phong_ibfk_1")

  @@index([maLoaiPhong], map: "maLoaiPhong")
}

model roleadminuser {
  email       String      @id @db.VarChar(50)
  userName    String      @unique(map: "userName") @db.VarChar(50)
  passWord    String      @db.VarChar(100)
  trangThaiTk String      @db.VarChar(10)
  role        String      @db.VarChar(20)
  khachhang   khachhang[]
  nhanvien    nhanvien[]
}
